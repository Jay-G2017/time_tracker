.project-content{id: "project-content-#{project.id}", value: project.id }
  .project-header{url: project_path(project), value: project.id}
    .project-name= project.name
    .project-description.text-p
      %input{id: 'project-description', value: project.description, type: 'hidden'}
      %trix-editor{input: 'project-description'}
  .project-body
    - project.titles.each do |title|
      .title-container{id: "title-container-#{title.id}"}
        .title-row.flex-between{ id: "title-row-#{title.id}" }
          .title-content.flex.align-center{url: project_title_path(project, title)}
            .title-name
              - name = title.name.present? ? title.name : '默认标题'
              %span= name
          .title-button-group.flex.align-center
            %span.title-delete{url: project_title_path(project, title), value: title.id, class: title.todos.count > 0 ? 'hide': ''}
              %i{class: 'fas fa-trash-alt'}
            %span.toggle-title-todos{value: title.id, class: title.todos.count > 0 ? '' : 'hide'}
              %i{class: 'fas fa-chevron-up'}
              %i{class: 'fas fa-chevron-down hide'}
            %span.todo-add{value: title.id, url: title_todos_path(title)}
              %i{class: 'fas fa-plus'}

        .title-todos-container.s-rounded{id: "title-todos-container-#{title.id}"}
          - title.todos.each_with_index do |todo, index|
            .todo-list.flex.align-center{id: "todo-list-#{todo.id}"}
              %span.tomato-start{value: todo.id}
                %i.fas.fa-play-circle
              .todo-list-content{url: title_todo_path(title, todo)}
                .todo-name.text-p
                  = todo.name
                .second-row.flex.align-center
                  .tomato-stat.second-row-item
                    %span 10
                    %span 5
                  .history-context.second-row-item
                    %i{class: 'fas fa-align-left'}
                  .todo-delete.second-row-item{url: title_todo_path(title, todo), value: todo.id, title_id: title.id}
                    %i.fas.fa-trash-alt
              .todo-switcher
                %label{class: 'switcher'}
                  %input{type: 'checkbox'}
                  %span{class: 'slider-my'}
              -# .button-group.flex
                -# = button_tag '删除', class: 'ui button delete-todo-button', url: title_todo_path(title, todo), value: todo.id
                -# = button_tag '编辑', class: 'ui button edit-todo-button', url: edit_title_todo_path(title, todo), value: todo.id

%input.project-name-input.hide{type: 'text'}
%input.title-edit-input.hide{type: 'text'}
%input.todo-edit-input.hide{type: 'text'}
